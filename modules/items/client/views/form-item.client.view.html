<section>
	<div class="page-header">
		<h1>{{vm.item._id ? 'Edit Item' : 'New Item'}}</h1>
	</div>
	<div class="col-md-12">
		<form enctype="multipart/form-data" name="vm.form.itemForm" class="form-horizontal" ng-submit="vm.save(vm.form.itemForm.$valid, pic)" novalidate>
		<fieldset>
			<div class="form-group text-center">
				<img ngf-src="vm.fileSelected ? pic : vm.item.imageUrl" alt="{{vm.item.name}}" ngf-resize="{width: 500}" class="img-thumbnail" ngf-drop>
			</div>
			<div ng-show="vm.loading" class="form-group text-center">
				<img ng-src="/modules/core/client/img/loaders/loader.gif" height="50" width="50" alt="Loading image...">
			</div>
			<div class="text-center form-group">
				<input type="file" ngf-select="(vm.fileSelected = true) && (vm.loading = false)" ng-model="pic" accept="image/*" ngf-before-model-change="vm.loading = true" ngf-resize="{width: 500}" ngf-resize-if="$width > 400 || $height > 400">
			</div>
			<div class="form-group" show-errors>
				<label class="control-label" for="name">Name</label>
				<input name="name" type="text" ng-model="vm.item.name" id="name" class="form-control" placeholder="Name" required>
				<div ng-messages="vm.form.itemForm.name.$error" role="alert">
					<p class="help-block error-text" ng-message="required">Item name is required.</p>
				</div>
			</div>
			<div class="form-group" show-errors>
				<label class="control-label" for="name">Description</label>
				<input name="description" type="text" ng-model="vm.item.description" id="desc" class="form-control" placeholder="Item Description">
			</div>
			<div class="form-group">
				<button type="submit" class="btn btn-default">{{vm.item._id ? 'Update' : 'Create'}}</button>
			</div>
			<div ng-show="vm.error" class="text-danger">
				<strong ng-bind="vm.error"></strong>
			</div>
		</fieldset>
		</form>
	</div>
</section>
